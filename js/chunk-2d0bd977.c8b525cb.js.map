{"version":3,"sources":["webpack:///./src/views/Search.vue?50f0","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?836e","webpack:///./src/views/Search.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","infinite-scroll-disabled","infinite-scroll-distance","row","wrap","_l","movie","key","id","responseStatus","_v","_e","staticRenderFns","Searchvue_type_script_lang_js_","props","query","String","data","movies","activePage","busy","isChangedPage","components","MovieBlock","methods","loadSearchedMovies","_this","page","arguments","length","undefined","movie_service","searchMovies","then","_ref","results","concat","catch","err","console","log","changePage","loadMore","watch","to","from","mounted","views_Searchvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","installComponents_default","VContainer","VLayout"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,WAAA,EAAaC,KAAA,kBAAAC,QAAA,oBAAAC,MAAAT,EAAA,SAAAU,WAAA,aAA8FC,YAAA,SAAAC,MAAA,CAA8BC,2BAAA,OAAAC,2BAAA,OAAmE,CAAAV,EAAA,eAAoBO,YAAA,QAAmB,CAAAP,EAAA,YAAiBQ,MAAA,CAAOG,IAAA,GAAAC,KAAA,KAAoBhB,EAAAiB,GAAAjB,EAAA,gBAAAkB,GAAqC,OAAAd,EAAA,eAAyBe,IAAAD,EAAAE,GAAAR,MAAA,CAAoBM,aAAiB,eAAAlB,EAAAqB,eAAA,CAAAjB,EAAA,MAAAJ,EAAAsB,GAAA,cAAAtB,EAAAuB,MAAA,QAC5eC,EAAA,2BCiBAC,EAAA,CACAC,MAAA,CACAC,MAAAC,QAEAC,KAJA,WAKA,OACAC,OAAA,GACAT,eAAA,QACAU,WAAA,EACAC,MAAA,EACAC,eAAA,IAGAC,WAAA,CACAC,aAAA,MAEAC,QAAA,CACAC,mBADA,WACA,IAAAC,EAAArC,KAAAsC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAAvC,KAAA8B,WAAAE,EAAAO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAAvC,KAAAgC,cACAhC,KAAAoB,eAAA,UACApB,KAAA+B,MAAA,EACAW,EAAA,KAAAC,aAAA3C,KAAA0B,MAAAY,GACAM,KAAA,SAAAC,GAAA,IAAAC,EAAAD,EAAAC,QAAAR,EAAAO,EAAAP,KAEAD,EAAAR,OADAG,EACAK,EAAAR,OAAAkB,OAAAD,GAEAA,EAEAT,EAAAP,WAAAQ,EACAD,EAAAN,MAAA,EACAM,EAAAjB,eAAA,YAEA4B,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAZ,EAAAN,MAAA,EACAM,EAAAjB,eAAA,WAGAgC,WArBA,WAsBApD,KAAA8B,YAAA,EACA9B,KAAAgC,eAAA,EACAhC,KAAAoC,mBAAApC,KAAA8B,WAAA9B,KAAAgC,gBAEAqB,SA1BA,WA2BArD,KAAAoD,eAGAE,MAAA,CACA5B,MADA,SACA6B,EAAAC,GACAD,IAAAC,IACAxD,KAAAgC,eAAA,EACAhC,KAAA8B,WAAA,EACA9B,KAAAoC,mBAAApC,KAAA8B,WAAA9B,KAAAgC,kBAIAyB,QAvDA,WAwDAzD,KAAAoC,uBC1EgYsB,EAAA,2DCOhYC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA5D,EACAyB,GACF,EACA,KACA,KACA,MAIeuC,EAAA,WAAAH,EAAiB,QAMhCI,IAAiBJ,EAAA,CAAaK,aAAA,KAAWC,UAAA","file":"js/chunk-2d0bd977.c8b525cb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"search\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},[_c('v-container',{staticClass:\"my-4\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.movies),function(movie){return _c('movie-block',{key:movie.id,attrs:{\"movie\":movie}})}),1),(_vm.responseStatus === 'loading')?[_c('h1',[_vm._v(\"Loading\")])]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search\" v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"busy\" infinite-scroll-distance=\"10\">\n    <v-container class=\"my-4\">\n      <v-layout row wrap>\n        <movie-block v-for=\"movie in movies\" :key=\"movie.id\" :movie=\"movie\" />\n      </v-layout>\n      <template v-if=\"responseStatus === 'loading'\">\n        <h1>Loading</h1>\n      </template>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport movieService from '@/services/movie.service'\nimport MovieBlock from '@/components/MovieBlock'\n\n\nexport default {\n  props: {\n    query: String,\n  },\n  data() {\n    return {\n      movies: [],\n      responseStatus: 'clean',\n      activePage: 1,\n      busy: false,\n      isChangedPage: false\n    }\n  },\n  components: {\n    MovieBlock\n  },\n  methods: {\n    loadSearchedMovies(page = this.activePage, isChangedPage = this.isChangedPage) {\n      this.responseStatus = 'loading'\n      this.busy = true\n      movieService.searchMovies(this.query, page)\n      .then(({results, page}) => {\n        if (isChangedPage) {\n          this.movies = this.movies.concat(results)\n        } else {\n          this.movies = results\n        }\n        this.activePage = page\n        this.busy = false\n        this.responseStatus = 'success'\n      })\n      .catch(err => {\n          console.log(err)\n          this.busy = true\n          this.responseStatus = 'error'\n        })\n    },\n    changePage() {\n      this.activePage += 1\n      this.isChangedPage = true\n      this.loadSearchedMovies(this.activePage, this.isChangedPage)\n      },\n    loadMore() {\n      this.changePage()\n    }\n  },\n  watch: {\n    query(to, from) {\n      if (to !== from) {\n        this.isChangedPage = false\n        this.activePage = 1\n        this.loadSearchedMovies(this.activePage, this.isChangedPage);\n      }\n    }\n  },\n  mounted() {\n    this.loadSearchedMovies()\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=6d748df6&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/assanali/Desktop/ /Study/vuejs/vue testovoe/vue-cinema/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {VContainer,VLayout})\n"],"sourceRoot":""}